Установка
---------

1. Скопировать папку ProstieZvonki.
2. Создать файл config.ini и указать в нём настройки подключения к серверу. За основу можно взять файл config.init.example.
3. Убедиться, что этот пользователь имеет право и запись в папку storage и её подпапки, а также в папку lib/ListenerProcess и файл config.ini. 
4. Убедиться, что пользователь, из-под которого запущен веб-сервер, имеет права на запуск процессов.

API
---

### Получение ссылки на объект ПростыеЗвонки

```php
$pz = prostiezvonki::getInstance();
```

### Подключение к серверу

```php
$pz->connect();
```

Если нужно использовать параметры подключения, отличные от тех, что указаны в конфигурационном файле, их можно передать в виде массива:

```php
$pz->connect(array(
	'host' => 'localhost',
	'port' => 10150,
));
```

При этом конфигурационный файл будет перезаписан в соответствии с указанными настройками.

### Разрыв подключения

```php
$pz->disconnect();
```

### Исходящий звонок

```php
$pz->call(
	$src, // номер телефона, с которого будет совершён звонок
	$dst  // номер телефона, на который будет совершён звонок
);
```

### Перевод звонка

```php
$pz->transfer(
	$callID, // идентификатор звонка, полученный от сервера
	$dst     // номер телефона, на который нужно перевести звонок
);
```

### Получение событий

```php
$pz->getEvents();
```

Метод возвращает массив событий. Каждое событие представляет собой ассоциативный массив. Структура событий описана в разделе «События от Сервера» документации сервиса Простые Звонки.